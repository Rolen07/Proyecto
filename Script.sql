-- MySQL Script generated by MySQL Workbench
-- Sat Apr 27 19:29:59 2024
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema Affinity
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `Affinity` ;

-- -----------------------------------------------------
-- Schema Affinity
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `Affinity` DEFAULT CHARACTER SET utf8 ;
USE `Affinity` ;

-- -----------------------------------------------------
-- Table `Affinity`.`Usuarios`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Affinity`.`Usuarios` ;

CREATE TABLE IF NOT EXISTS `Affinity`.`Usuarios` (
  `ID_usuario` INT NOT NULL AUTO_INCREMENT,
  `Nombre` VARCHAR(25) NOT NULL,
  `Mail` VARCHAR(45) NOT NULL,
  `Contrasena` VARCHAR(25) NOT NULL,
  `Ubicación` VARCHAR(45) NOT NULL,
  `Miembro` VARCHAR(2) NOT NULL,
  PRIMARY KEY (`ID_usuario`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Affinity`.`Aficiones`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Affinity`.`Aficiones` ;

CREATE TABLE IF NOT EXISTS `Affinity`.`Aficiones` (
  `ID_aficion` INT NOT NULL AUTO_INCREMENT,
  `Nombre_Aficion` VARCHAR(25) NOT NULL,
  `Descripcion` VARCHAR(120) NOT NULL,
  PRIMARY KEY (`ID_aficion`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Affinity`.`Usuario_aficion`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Affinity`.`Usuario_aficion` ;

CREATE TABLE IF NOT EXISTS `Affinity`.`Usuario_aficion` (
  `ID_usuario` INT NOT NULL,
  `ID_aficion` INT NOT NULL,
  INDEX `ID_usuario_idx` (`ID_usuario` ASC) VISIBLE,
  INDEX `ID_aficion_idx` (`ID_aficion` ASC) VISIBLE,
  CONSTRAINT `ID_usuario`
    FOREIGN KEY (`ID_usuario`)
    REFERENCES `Affinity`.`Usuarios` (`ID_usuario`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `ID_aficion`
    FOREIGN KEY (`ID_aficion`)
    REFERENCES `Affinity`.`Aficiones` (`ID_aficion`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
INSERT INTO usuarios (ID_usuario, Nombre, Mail, Contrasena, Ubicación, Miembro)
VALUES 
('00000001', 'Ana García', 'ana.garcia@mail.com', 'password123', 'Chamberí', 'SI'),
('00000002', 'Carlos Sánchez', 'carlos.sanchez@mail.com', 'securePass!', 'Salamanca', 'SI'),
('00000003', 'María López', 'maria.lopez@mail.com', 'maria2021', 'Chamartín', 'NO'),
('00000004', 'Pedro Gómez', 'pedro.gomez@mail.com', 'Pedro123', 'Retiro', 'SI'),
('00000005', 'Sofía Martínez', 'sofia.martinez@mail.com', 'S0fia!Mart', 'Centro', 'NO'),
('00000006', 'Javier Rodríguez', 'javier.rodriguez@mail.com', 'Javi2020', 'La Latina', 'SI'),
('00000007', 'Lucía Fernández', 'lucia.fernandez@mail.com', 'Lucia&2022', 'Tetuán', 'NO'),
('00000008', 'Miguel Torres', 'miguel.torres@mail.com', 'Miguel!2023', 'Moncloa-Aravaca', 'SI'),
('00000009', 'Isabel Pérez', 'isabel.perez@mail.com', 'IsaB3L!p', 'San Blas', 'NO'),
('00000010', 'Álvaro Moreno', 'alvaro.moreno@mail.com', 'aLVaRO123', 'Usera', 'SI');

-- Insertar datos de muestra en la tabla de aficiones

-- Insertar algunas aficiones
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000001', 'Lectura', 'Leer libros es una actividad relajante y educativa.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000002', 'Cine', 'Ver películas es una forma de entretenimiento muy popular.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000003', 'Deportes', 'Practicar deportes es una excelente manera de mantenerse activo y saludable.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000004', 'Música', 'Escuchar música puede influir en el estado de ánimo y es una forma de expresión artística.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000005', 'Arte', 'Explorar el mundo del arte puede ser inspirador y enriquecedor.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000006', 'Cocina', 'Cocinar es una habilidad creativa y gratificante que permite experimentar con sabores y texturas.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000007', 'Viajar', 'Explorar nuevos lugares y culturas amplía horizontes y crea recuerdos inolvidables.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000008', 'Jardinería', 'Cuidar plantas y jardines es una actividad terapéutica que conecta con la naturaleza.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000009', 'Fotografía', 'Capturar momentos con fotografías es una forma de preservar recuerdos y expresar creatividad.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000010', 'Senderismo', 'Explorar la naturaleza a pie es una actividad que combina ejercicio y contemplación.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000011', 'Bailar', 'El baile es una forma de expresión artística que fomenta la coordinación y el ritmo.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000012', 'Juegos de mesa', 'Los juegos de mesa son una forma divertida de socializar y ejercitar la mente.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000013', 'Yoga', 'Practicar yoga ayuda a mejorar la flexibilidad, el equilibrio y la relajación.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000014', 'Programación', 'La programación es una habilidad técnica que permite crear software y resolver problemas de manera lógica.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000015', 'Manualidades', 'Realizar manualidades es una forma de expresar creatividad y producir objetos únicos.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000016', 'Videojuegos', 'Los videojuegos son el pasatiempo más popular de la actualidad, donde el juego entretiene a gran escala.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000017', 'Astronomía', 'La astronomía es la ciencia que estudia los cuerpos celestes y los fenómenos que ocurren en el universo.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000018', 'Jinete', 'Montar a caballo es una afición que otorga un ejercicio de coordinación y salida al aire libre.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000019', 'Cosplayer', 'Representar a tu personaje favorito de series, videojuegos y peliculas.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000020', 'Anime', 'La cultura anime es muy popular en la actualidad y muy disfrutada por la gente.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000021', 'Filosofía', 'La ciencia sobre el razonamiento y el pensamiento humano.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000022', 'Ciencias', 'Sección que combina la física y la qúimica.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000023', 'Aprender idiomas', 'La afición de aprender idiomas muestra bastante interés para muchas personas.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000024', 'Escribir', 'Escribir libros, novelas, poesía, entre otros, es un pasatiempo favorito para varias personas.');
INSERT INTO aficiones (ID_aficion, Nombre_Aficion, Descripcion) VALUES ('00000025', 'Dibujar', 'El fútbol es uno de los deportes más populares del mundo, jugado tanto a nivel profesional como recreativo.');

-- Insertar relaciones entre usuarios y aficiones de forma distribuida

-- Usuarios con ID del 1 al 10, asumiendo que tienes 10 usuarios en total
-- Aficiones con ID del 1 al 25, asumiendo que tienes 25 aficiones en total

-- Asignación manual de aficiones a cada usuario

-- Ana García: Lectura, Cine, Deportes, Música, Arte
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000001', '00000001'); -- Lectura
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000001', '00000002'); -- Cine
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000001', '00000003'); -- Deportes
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000001', '00000004'); -- Música
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000001', '00000005'); -- Arte

-- Carlos Sánchez: Arte, Cocina, Viajar, Jardinería, Fotografía
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000002', '00000005'); -- Arte
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000002', '00000006'); -- Cocina
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000002', '00000007'); -- Viajar
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000002', '00000008'); -- Jardinería
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000002', '00000009'); -- Fotografía

-- María López: Fotografía, Senderismo, Bailar, Juegos de mesa, Yoga
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000003', '00000009'); -- Fotografía
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000003', '00000010'); -- Senderismo
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000003', '00000011'); -- Bailar
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000003', '00000012'); -- Juegos de mesa
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000003', '00000013'); -- Yoga

-- Pedro Gómez: Manualidades, Videojuegos, Astronomía, Jinete, Cosplayer
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000004', '00000015'); -- Manualidades
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000004', '00000016'); -- Videojuegos
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000004', '00000017'); -- Astronomía
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000004', '00000018'); -- Jinete
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000004', '00000019'); -- Cosplayer

-- Continuar asignando las aficiones a los usuarios restantes según sea necesario
-- Insertar relaciones entre usuarios y aficiones para los usuarios restantes

-- Sofía Martínez: Anime, Filosofía, Ciencias, Aprender idiomas, Escribir
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000005', '00000020'); -- Anime
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000005', '00000021'); -- Filosofía
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000005', '00000022'); -- Ciencias
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000005', '00000023'); -- Aprender idiomas
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000005', '00000024'); -- Escribir

-- Javier Rodríguez: Dibujar, Lectura, Cine, Deportes, Música
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000006', '00000025'); -- Dibujar
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000006', '00000001'); -- Lectura
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000006', '00000002'); -- Cine
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000006', '00000003'); -- Deportes
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000006', '00000004'); -- Música

-- Lucía Fernández: Arte, Cocina, Viajar, Jardinería, Fotografía
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000007', '00000005'); -- Arte
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000007', '00000006'); -- Cocina
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000007', '00000007'); -- Viajar
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000007', '00000008'); -- Jardinería
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000007', '00000009'); -- Fotografía

-- Miguel Torres: Manualidades, Videojuegos, Astronomía, Jinete, Cosplayer
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000008', '00000015'); -- Manualidades
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000008', '00000016'); -- Videojuegos
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000008', '00000017'); -- Astronomía
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000008', '00000018'); -- Jinete
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000008', '00000019'); -- Cosplayer

-- Isabel Pérez: Astronomía, Jinete, Cosplayer, Anime, Filosofía
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000009', '00000017'); -- Astronomía
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000009', '00000018'); -- Jinete
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000009', '00000019'); -- Cosplayer
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000009', '00000020'); -- Anime
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000009', '00000021'); -- Filosofía

-- Álvaro Moreno: Ciencias, Aprender idiomas, Escribir, Dibujar, Lectura
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000010', '00000022'); -- Ciencias
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000010', '00000023'); -- Aprender idiomas
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000010', '00000024'); -- Escribir
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000010', '00000025'); -- Dibujar
INSERT INTO Usuario_Aficion (ID_usuario, ID_aficion) VALUES ('00000010', '00000001'); -- Lectura

-- -----------------------------------------------------
-- Table `Affinity`.`chat`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Affinity`.`chat` ;

CREATE TABLE IF NOT EXISTS `Affinity`.`chat` (
  `ID_chat` INT NOT NULL AUTO_INCREMENT,
  `Emisor` INT NOT NULL,
  `Receptor` INT NOT NULL,
  `Texto` VARCHAR(2000) NOT NULL,
  PRIMARY KEY (`ID_chat`),
  INDEX `Emisor_idx` (`Emisor` ASC) VISIBLE,
  INDEX `Receptor_idx` (`Receptor` ASC) VISIBLE,
  CONSTRAINT `Emisor`
    FOREIGN KEY (`Emisor`)
    REFERENCES `Affinity`.`Usuarios` (`ID_usuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Receptor`
    FOREIGN KEY (`Receptor`)
    REFERENCES `Affinity`.`Usuarios` (`ID_usuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

